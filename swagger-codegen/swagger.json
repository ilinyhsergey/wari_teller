{"swagger":"2.0","info":{"version":"1.0","title":"Wari teller API"},"host":"localhost:8080","basePath":"/teller_api/v1","tags":[{"name":"parameter"},{"name":"report"},{"name":"test"},{"name":"transaction"},{"name":"user"}],"schemes":["http","https"],"paths":{"/parameter/getAllTransferMotifs/{sessionID}":{"get":{"tags":["parameter"],"summary":"provides all transfer motifs used in Wari platform.","description":"provides all transfer motifs used in Wari platform.","operationId":"getAllTransferMotifsSessionIDGet_1","parameters":[{"name":"sessionID","in":"path","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"successful operation","schema":{"type":"array","items":{"$ref":"#/definitions/Motif"}}}},"security":[{"bearer":[]}]}},"/parameter/getAvailableDestinationCountries/{sessionID}":{"get":{"tags":["parameter"],"summary":"provides all countries where Wari platform can send money.","description":"provides all countries where Wari platform can send money.","operationId":"getAvailableDestinationCountriesSessionIDGet_1","parameters":[{"name":"sessionID","in":"path","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"successful operation","schema":{"type":"array","items":{"$ref":"#/definitions/GeoZone"}}}},"security":[{"bearer":[]}]}},"/parameter/getInformations/{sessionID}":{"get":{"tags":["parameter"],"summary":"get informations(name, mobile number, addresses etc...) of all pos services of the network.","description":"get informations(name, mobile number, addresses etc...) of all pos services of the network.","operationId":"getInformationsSessionIDGet_1","parameters":[{"name":"sessionID","in":"path","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"successful operation","schema":{"type":"array","items":{"$ref":"#/definitions/NetworkInformation"}}}},"security":[{"bearer":[]}]}},"/parameter/findB2BPartnerInformations/{sessionID}":{"get":{"tags":["parameter"],"summary":"find B2B partner info","description":"research B2B partner by name and partner informations","operationId":"findB2BPartnerInformationsSessionIDGet_1","parameters":[{"name":"sessionID","in":"path","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"successful operation","schema":{"type":"array","items":{"$ref":"#/definitions/B2BPartnerInformation"}}}},"security":[{"bearer":[]}]}},"/parameter/findMerchantFormByReference/{sessionID}/{reference}":{"get":{"tags":["parameter"],"summary":"find merchant form","description":"provides a set of fileld of a merchant's form","operationId":"findMerchantFormByReferenceSessionIDReferenceGet_1","parameters":[{"name":"sessionID","in":"path","required":true,"type":"integer","format":"int64"},{"name":"reference","in":"path","required":true,"type":"string"}],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/MerchantForm"}}},"security":[{"bearer":[]}]}},"/parameter/findMerchantInformations/{reference}":{"get":{"tags":["parameter"],"summary":"find merchant info","description":"research a merchant by name or reference and provides merchant informations.","operationId":"findMerchantInformationsByReferenceGet_1","parameters":[{"name":"reference","in":"path","required":true,"type":"string"}],"responses":{"200":{"description":"successful operation","schema":{"type":"array","items":{"$ref":"#/definitions/B2BPartnerInformation"}}}},"security":[{"bearer":[]}]}},"/parameter/getAllCountries":{"get":{"tags":["parameter"],"summary":"[Implemented] provides all countries of the world.","description":"[Implemented] provides all countries of the world.","operationId":"getAllCountriesGet_1","parameters":[],"responses":{"200":{"description":"successful operation","schema":{"type":"array","items":{"$ref":"#/definitions/GeoZone"}}}},"security":[{"bearer":[]}]}},"/parameter/getCountry/{countryId}":{"get":{"tags":["parameter"],"summary":"[Implemented] provides country by id.","description":"[Implemented] provides country by id.","operationId":"getCountryGet_1","parameters":[{"name":"countryId","in":"path","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/GeoZone"}}}}},"/parameter/getAllIDtypes/{sessionID}":{"get":{"tags":["parameter"],"summary":"provides all the ID types used in Wari platform.","description":"provides all the ID types used in Wari platform.","operationId":"getAllIDtypesSessionIDGet_1","parameters":[{"name":"sessionID","in":"path","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"successful operation","schema":{"type":"array","items":{"$ref":"#/definitions/PieceType"}}}},"security":[{"bearer":[]}]}},"/parameter/getAllMerchantInCountryByCategory/{countryCode}/{category}":{"get":{"tags":["parameter"],"summary":"[Implemented] provides all merchants in a country by category(TV,bill,water etc...).","description":"provides all merchants in a country by category(TV,bill,water etc...).","operationId":"getAllMerchantInCountryByCategoryCountryCodeCategoryGet_1","parameters":[{"name":"countryCode","in":"path","required":true,"type":"integer","format":"int64"},{"name":"category","in":"path","required":true,"type":"string"}],"responses":{"200":{"description":"successful operation","schema":{"type":"array","items":{"$ref":"#/definitions/B2BPartnerInformation"}}}}}},"/parameter/getAllMobileOperatorsInCountry/{mobileCountryCode}":{"get":{"tags":["parameter"],"summary":"[Implemented] provides all mobile operators in a country","description":"provides all mobile operators in a country","operationId":"getAllMobileOperatorsInCountryMobileCountryCodeGet_1","parameters":[{"name":"mobileCountryCode","in":"path","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"successful operation","schema":{"type":"array","items":{"$ref":"#/definitions/MobileOperator"}}}}}},"/report/findPendingTransactions/{sessionID}":{"get":{"tags":["report"],"summary":"provides pending transactions to validate","description":"provides pending transactions to validate","operationId":"findPendingTransactionsSessionIDGet_1","parameters":[{"name":"sessionID","in":"path","required":true,"type":"integer","format":"int64"},{"name":"transactionId","in":"query","required":false,"type":"integer","format":"int64"},{"name":"status","in":"query","required":false,"type":"string"}],"responses":{"200":{"description":"successful operation","schema":{"type":"array","items":{"$ref":"#/definitions/PendingTransaction"}}}},"security":[{"bearer":[]}]}},"/report/getAirtimeStatus/{sessionID}/{transactionId}":{"get":{"tags":["report"],"summary":"provides the status of an airtime transactions","description":"provides the status of an airtime transactions","operationId":"getAirtimeStatusSessionIDTransactionIdGet_1","parameters":[{"name":"sessionID","in":"path","required":true,"type":"integer","format":"int64"},{"name":"transactionId","in":"path","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/AirTimeStatus"}}},"security":[{"bearer":[]}]}},"/report/getReports/{sessionID}/{reportType}/{reportSubType}/{begin}/{end}":{"get":{"tags":["report"],"summary":"get all the reports between two date and report type","description":"get all the reports between two date and report type","operationId":"getReportsSessionIDReportTypeReportSubTypeBeginEndGet_1","parameters":[{"name":"sessionID","in":"path","required":true,"type":"integer","format":"int64"},{"name":"reportType","in":"path","required":true,"type":"string"},{"name":"reportSubType","in":"path","required":true,"type":"string"},{"name":"begin","in":"path","required":true,"type":"string"},{"name":"end","in":"path","required":true,"type":"string"}],"responses":{"200":{"description":"successful operation","schema":{"type":"array","items":{"$ref":"#/definitions/Report"}}}},"security":[{"bearer":[]}]}},"/report/getTransactionList/{sessionID}/{begin}/{end}":{"get":{"tags":["report"],"summary":"get all the reports between two date and report type","description":"get all the reports between two date and report type","operationId":"getTransactionListSessionIDBeginEndGet_1","parameters":[{"name":"sessionID","in":"path","required":true,"type":"integer","format":"int64"},{"name":"begin","in":"path","required":true,"type":"string"},{"name":"end","in":"path","required":true,"type":"string"}],"responses":{"200":{"description":"successful operation","schema":{"type":"array","items":{"$ref":"#/definitions/TransactionListResponse"}}}},"security":[{"bearer":[]}]}},"/test/token":{"get":{"tags":["test"],"summary":"get token","description":"","operationId":"getToken_1","parameters":[],"responses":{"default":{"description":"successful operation"}}}},"/test/test-secure":{"get":{"tags":["test"],"summary":"Secure Test operation","description":"","operationId":"testSecure_1","parameters":[],"responses":{"default":{"description":"successful operation"}},"security":[{"bearer":[]}]}},"/test/test":{"get":{"tags":["test"],"summary":"Test operation","description":"","operationId":"test_1","parameters":[],"responses":{"default":{"description":"successful operation"}}}},"/transaction/findTransactionBySendCode":{"post":{"tags":["transaction"],"summary":"[Implemented] find a transaction to pay by send code","description":"[Implemented] find a transaction to pay by send code","operationId":"findTransactionBySendCodePost_1","parameters":[{"in":"body","name":"body","required":false,"schema":{"$ref":"#/definitions/SendCodeBody"}}],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/SearchTransactionResponse"}}},"security":[{"bearer":[]}]}},"/transaction/processTransaction":{"post":{"tags":["transaction"],"summary":"[Implemented] process any kind of transaction","description":"[Implemented] process any kind of transaction","operationId":"processTransactionPost_1","parameters":[{"in":"body","name":"body","required":false,"schema":{"$ref":"#/definitions/TransactionRequestBody"}}],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/TransactionResponse"}}},"security":[{"bearer":[]}]}},"/transaction/getTransactionReceipt":{"post":{"tags":["transaction"],"summary":"to pull a receipt of any kind of transaction","description":"to pull a receipt of any kind of transaction","operationId":"getTransactionReceiptPost_1","parameters":[{"in":"body","name":"body","required":false,"schema":{"$ref":"#/definitions/TransactionBody"}}],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/TransactionReceipt"}}},"security":[{"bearer":[]}]}},"/transaction/validateTransaction":{"post":{"tags":["transaction"],"summary":"validate any kind of transaction.","description":"validate any kind of transaction.","operationId":"validateTransactionPost_1","parameters":[{"in":"body","name":"body","required":false,"schema":{"$ref":"#/definitions/TransactionBody"}}],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/TransactionReceipt"}}},"security":[{"bearer":[]}]}},"/transaction/calculateTransfer/{sessionID}/{countryId}/{transferType}/{amountType}/{amount}":{"get":{"tags":["transaction"],"summary":"[Implemented] permits to teller agent to simulate money transfer to a selected destination country in order to know paid fees and amount received by the beneficiary.","description":"[Implemented] permits to teller agent to simulate money transfer to a selected destination country in order to know paid fees and amount received by the beneficiary.","operationId":"calculateTransferSessionIDCountryIdTransferTypeAmountTypeAmountGet_1","parameters":[{"name":"sessionID","in":"path","required":true,"type":"integer","format":"int64"},{"name":"countryId","in":"path","required":true,"type":"integer","format":"int64"},{"name":"transferType","in":"path","required":true,"type":"string"},{"name":"amountType","in":"path","required":true,"type":"string"},{"name":"amount","in":"path","required":true,"type":"number"}],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/CalculatorResponse"}}},"security":[{"bearer":[]}]}},"/transaction/findCustomerBill":{"post":{"tags":["transaction"],"summary":"[Implemented] find a customer's bill subscriber id or bill number etc...","description":"[Implemented] find a customer's bill subscriber id or bill number etc...","operationId":"findCustomerBillPost_1","parameters":[{"in":"body","name":"body","required":false,"schema":{"$ref":"#/definitions/BillRequestBody"}}],"responses":{"200":{"description":"successful operation","schema":{"type":"array","items":{"$ref":"#/definitions/BillResponse"}}}},"security":[{"bearer":[]}]}},"/user/login":{"post":{"tags":["user"],"summary":"[Implemented] open a user session with his username, password and special password.","description":"[Implemented] open a user session with his username, password and special password.","operationId":"userLoginPost_1","parameters":[{"in":"body","name":"body","required":false,"schema":{"$ref":"#/definitions/LoginCredentials"}}],"responses":{"default":{"description":"successful operation"}}}},"/user/details/{sessionID}":{"get":{"tags":["user"],"summary":"get the profile information of the connected user.","description":"get the profile information of the connected user.","operationId":"getUserDetailsSessionIDGet_1","parameters":[{"name":"sessionID","in":"path","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/Actor"}}},"security":[{"bearer":[]}]},"post":{"tags":["user"],"summary":"update a user profile informations","description":"update a user profile informations","operationId":"updateUserDetailsPost_1","parameters":[{"name":"sessionID","in":"path","required":true,"type":"integer","format":"int64"},{"in":"body","name":"body","required":false,"schema":{"$ref":"#/definitions/Actor"}}],"responses":{"default":{"description":"successful operation"}},"security":[{"bearer":[]}]}},"/user/logout":{"post":{"tags":["user"],"summary":"logout user.","description":"logout user.","operationId":"userLogoutPost_1","parameters":[],"responses":{"default":{"description":"successful operation"}},"security":[{"bearer":[]}]}}},"securityDefinitions":{"bearer":{"description":"","type":"apiKey","name":"Authorization","in":"header"}},"definitions":{"Motif":{"type":"object","properties":{"code":{"type":"string"},"name":{"type":"string"}}},"GeoZone":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"isoCode":{"type":"string"},"isoCodeTrois":{"type":"string"},"geoZoneType":{"$ref":"#/definitions/GeoZoneType"},"indicatif":{"type":"string"}}},"GeoZoneType":{"type":"object","properties":{"code":{"type":"string"}}},"NetworkInformation":{"type":"object","properties":{"country":{"type":"string"},"level1":{"type":"string"},"level2":{"type":"string"},"address":{"type":"string"},"phoneNumber":{"type":"string"},"service":{"type":"string"}}},"B2BPartnerInformation":{"type":"object","properties":{"code":{"type":"string"},"name":{"type":"string"}}},"MerchantForm":{"type":"object","properties":{"merchantCode":{"type":"string"},"merchantCurrency":{"type":"string"},"merchantName":{"type":"string"},"merchantCategory":{"type":"string"},"merchantAddress":{"type":"string"},"merchantType":{"type":"string"},"merchantCountry":{"type":"object","additionalProperties":{"type":"string"}},"formField":{"type":"object","additionalProperties":{"type":"array","items":{"type":"object"}}}}},"PieceType":{"type":"object","properties":{"code":{"type":"string"},"name":{"type":"string"}}},"MobileOperator":{"type":"object","properties":{"operatorId":{"type":"integer","format":"int64"},"reference":{"type":"string"},"name":{"type":"string"},"facialValues":{"type":"array","items":{"$ref":"#/definitions/MobileOperatorFacialValue"}}}},"MobileOperatorFacialValue":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"amount":{"type":"number"}}},"PendingTransaction":{"type":"object","properties":{"transactionId":{"type":"integer","format":"int64"},"date":{"type":"string","format":"date-time"},"supervisor":{"type":"string"},"autorisationMode":{"type":"string"},"transactionType":{"type":"string"},"status":{"type":"string"}}},"AirTimeStatus":{"type":"object","properties":{"message":{"type":"string"}}},"Report":{"type":"object","properties":{"date":{"type":"string"},"transactionNumber":{"type":"string"},"transactionType":{"type":"string"},"tellerOffice":{"type":"string"},"callCenter":{"type":"string"},"supervisor":{"type":"string"},"principal":{"type":"string"},"provision":{"type":"string"},"commissionBank":{"type":"string"},"commissionWari":{"type":"string"},"commissionDistributor":{"type":"string"},"tvaTobCollected":{"type":"string"},"tvaSupported":{"type":"string"},"tobSupported":{"type":"string"},"taxeOperation":{"type":"string"},"taxeFixe":{"type":"string"},"commissionASD":{"type":"string"},"tvaASD":{"type":"string"},"tobASD":{"type":"string"}}},"TransactionListResponse":{"type":"object","properties":{"number":{"type":"number"},"date":{"type":"string","format":"date-time"},"operator":{"type":"string"},"status":{"type":"string"}}},"AmountInformation":{"type":"object","properties":{"principal":{"type":"number"},"currency":{"type":"string"},"fees":{"type":"number"},"timbreAmount":{"type":"number"},"operationTaxe":{"type":"number"},"total":{"type":"number"}}},"Customer":{"type":"object","properties":{"firstName":{"type":"string"},"lastName":{"type":"string"},"phoneNumber":{"type":"string"},"address":{"type":"string"},"identityCountry":{"type":"string"},"identityType":{"type":"string"},"identityNumber":{"type":"string"},"identityExpirationDate":{"type":"string","format":"date-time"},"identityEmissionDate":{"type":"string","format":"date-time"},"wariSecure":{"type":"string"},"accountNumber":{"type":"string"},"accountType":{"type":"string"},"accountProvider":{"type":"string"},"cardType":{"type":"string"},"voucher":{"type":"string"},"voucherPhone":{"type":"string"},"voucherProvider":{"type":"string"},"wallet":{"type":"string"},"walletProvider":{"type":"string"}}},"SearchTransactionResponse":{"type":"object","properties":{"transactionId":{"type":"integer","format":"int64"},"sender":{"$ref":"#/definitions/Customer"},"receiver":{"$ref":"#/definitions/Customer"},"amountInformation":{"$ref":"#/definitions/AmountInformation"}}},"SendCodeBody":{"type":"object","properties":{"sessionID":{"type":"integer","format":"int64"},"sendCode":{"type":"string","minLength":9,"maxLength":2147483647},"typeReception":{"type":"string"}}},"TransactionResponse":{"type":"object","properties":{"transactionId":{"type":"integer","format":"int64"},"principal":{"type":"number"},"commissionTTC":{"type":"number"},"timbre":{"type":"number"},"taxeOperation":{"type":"number"},"total":{"type":"number"},"principalConversion":{"type":"number"},"wariPassOTPRequired":{"type":"boolean"},"numeroTransaction":{"type":"string"},"wariPassTokenRequired":{"type":"boolean"},"message":{"type":"string"}}},"ProcessTransactionContext":{"type":"object","properties":{"securityTokenTransaction":{"type":"boolean"},"tokenValidationDesc":{"type":"string"},"wariPassOTP":{"type":"string"},"wariPassToken":{"type":"string"}}},"TransactionRequest":{"type":"object","properties":{"securityTokenTransaction":{"type":"boolean"},"tokenValidationDesc":{"type":"string"},"wariPassOTP":{"type":"string"},"wariPassToken":{"type":"string"},"context":{"$ref":"#/definitions/ProcessTransactionContext"}}},"TransactionRequestBody":{"type":"object","properties":{"sessionID":{"type":"integer","format":"int64"},"transactionRequest":{"$ref":"#/definitions/TransactionRequest"},"objectType":{"type":"string"}}},"TransactionReceipt":{"type":"object","properties":{"transactionId":{"type":"integer","format":"int64"},"date":{"type":"string"},"teller":{"type":"string"},"printingMode":{"type":"string"},"operateur":{"type":"string"},"type":{"type":"string"},"tellerOffice":{"type":"string"},"agency":{"type":"string"},"distributor":{"type":"string"},"bank":{"type":"string"},"senderCountry":{"type":"string"},"sender":{"$ref":"#/definitions/Customer"},"receiverCountry":{"type":"string"},"receiver":{"$ref":"#/definitions/Customer"},"transactionSendCode":{"type":"string"},"labelPromo":{"type":"string"},"clause":{"type":"string"},"logoUrl":{"type":"string"},"eventMessage":{"type":"string"},"reportFooter":{"type":"string"},"currency":{"type":"string"},"phone":{"type":"string"},"address":{"type":"string"},"fax":{"type":"string"},"principal":{"type":"number"},"fees":{"type":"number"},"taxes":{"type":"number"},"feesWithTaxe":{"type":"number"},"timbre":{"type":"number"},"total":{"type":"number"},"principalConvert":{"type":"number"},"labelPrincipalConvert":{"type":"string"},"showHorsTaxe":{"type":"string"},"mtricule":{"type":"string"},"merchant":{"type":"string"},"merchantId":{"type":"integer","format":"int32"},"merchantReference":{"type":"string"},"billReference":{"type":"string"},"billClient":{"type":"string"},"paymentMean":{"type":"string"}}},"TransactionBody":{"type":"object","properties":{"sessionID":{"type":"integer","format":"int64"},"transactionId":{"type":"integer","format":"int64"}}},"CalculatorResponse":{"type":"object","properties":{"principal":{"type":"string"},"fees":{"type":"string"},"total":{"type":"string"},"receivedAmount":{"type":"string"}}},"BillResponse":{"type":"object","properties":{"billReference":{"type":"string"},"billAmount":{"type":"number"},"billFees":{"type":"number"},"billTimbre":{"type":"number"},"billTaxeFixe":{"type":"number"},"billClient":{"type":"string"},"billInfos":{"type":"object","additionalProperties":{"type":"string"}}}},"BillRequest":{"type":"object","properties":{"merchantCode":{"type":"string"},"billReference":{"type":"string"},"billCurrency":{"type":"string"},"billModeReglement":{"type":"string","enum":["TOTAL","PARTIEL","ANTICIPE","VOUCHER"]}}},"BillRequestBody":{"type":"object","properties":{"sessionID":{"type":"integer","format":"int64"},"billRequest":{"$ref":"#/definitions/BillRequest"}}},"LoginCredentials":{"type":"object","properties":{"login":{"type":"string"},"password":{"type":"string"},"specialPassword":{"type":"string"}}},"Actor":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"firstName":{"type":"string"},"lastName":{"type":"string"},"login":{"type":"string"},"password":{"type":"string"},"specialPassword":{"type":"string"},"mobileNumber":{"type":"string"},"email":{"type":"string"},"matricule":{"type":"string"},"adress":{"type":"string"},"lastAccountUpdate":{"type":"string","format":"date-time"},"status":{"type":"string"}}}}}